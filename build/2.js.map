{"version":3,"sources":["../../src/pages/anadir-leccion/anadir-leccion.module.ts","../../src/pages/anadir-leccion/anadir-leccion.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AnadirLeccionPage } from './anadir-leccion'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AnadirLeccionPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AnadirLeccionPage),\r\n  ],\r\n})\r\nexport class AnadirLeccionPageModule {\r\n  ionViewWillEnter(){\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/anadir-leccion/anadir-leccion.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { HomePage } from '../home/home';\r\nimport { AnadirProvider } from '../../providers/anadir/anadir'\r\nimport * as p5 from '../../assets/js/p5.min'\r\nimport * as p5Sound from '../../assets/js/p5.sound.min'\r\n\r\ndeclare var dcodeIO: any;\r\nvar config, db, sw, sh, offset;\r\n/**\r\n * Generated class for the AnadirLeccionPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-anadir-leccion',\r\n  templateUrl: 'anadir-leccion.html',\r\n})\r\n\r\nexport class AnadirLeccionPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public ap:AnadirProvider) {\r\n  }\r\n\r\n  subir() {\r\n    var texto = \"\";\r\n    for (var i = 0; i < this.ap.notas.length; i++) {\r\n      texto = texto + this.ap.notas[i].d.toString()+ \",\" + this.ap.notas[i].n.toString() + \",\" + this.ap.notas[i].t.toString() + \"/\";\r\n    }\r\n    this.ap.anadirLeccion(texto, \"Esta leccion fue hecha por ti!\")\r\n  }\r\n\r\n  borrarNota(){\r\n    if (this.ap.notas[0].x < sw*0.1) {\r\n      offset += this.ap.notas[this.ap.notas.length-1].d*sw*0.02;\r\n    }\r\n    this.ap.notas.splice(this.ap.notas.length - 1 ,1)\r\n  }\r\n\r\n  borrarTodoToditoTodo(){\r\n    this.ap.notas.length = 0;\r\n    offset = sw*0.2;\r\n    console.log(\"sad\")\r\n  }\r\n\r\n\r\n  ionViewWillLeave() {\r\n    console.log(\"Looks like I'm about to leave :(\");\r\n    document.getElementById(\"defaultCanvas0\").parentElement.removeChild(document.getElementById(\"defaultCanvas0\"));\r\n    document.getElementById(\"defaultCanvas1\").parentElement.removeChild(document.getElementById(\"defaultCanvas1\"));\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    // The midi notes of a scale\r\n    //               C        D        E        F        G        A        B        C\r\n    let sketch = p => {\r\n    let notes = [ 261.626, 293.665, 329.628, 349.228, 391.995, 440.000, 493.883, 523.251];\r\n    let now = 1, index = 0, trigger = 0, autoplay = false;\r\n    sh = window.innerHeight*0.9;\r\n    sw = window.innerWidth;\r\n    let del, upload ;//osc\r\n    let width = sw*0.06, pianoY = (sh*0.23), pentaY = (sh/4)/5, ini = (sw - width * 8)/2, separador = sw*0.01;\r\n    let start, end, nactual;\r\n    this.ap.notas = [];\r\n    offset = sw*0.2;\r\n    let enTeclado = false;\r\n    function Nota(d, n, t){\r\n      let colores;\r\n      let pos;\r\n      this.d = d;\r\n      this.n = n;\r\n      this.t = t;\r\n      this.x = sh*0.8;\r\n      pos = [sh*0.5375, sh*0.5125, sh*0.4875, sh*0.4625, sh*0.4375, sh*0.4125, sh*0.3875, sh*0.3625];\r\n      colores = [p.color(255, 102, 102), p.color(178, 255, 102), p.color(102, 178, 255), p.color(255, 255, 102), p.color(255, 102, 178), p.color(102, 255, 178), p.color(192, 192, 192), p.color(29,88 ,138)];\r\n\r\n      this.display = function(){\r\n        p.fill(colores[n]);\r\n        p.rect(this.x, pos[n], d*sw*0.02, sh*0.025);\r\n      }\r\n\r\n      this.pego = function(donde, r) {\r\n        var dis = dist(this.x, pos[n], donde, pos[n]);\r\n        if (dis< r) {\r\n          return true;\r\n        }else {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      this.update = function(){\r\n        this.x = this.x - t;\r\n\r\n      }\r\n    }\r\n\r\n    p.setup = () =>\r\n    {\r\n      var canvas = p.createCanvas(sw ,sh).parent('defaultCanvas0');\r\n      // A triangle //oscillator\r\n      ////osc = new p5Sound.Sin//osc();\r\n\r\n      // Start silent\r\n      //osc.start();\r\n      //osc.amp(0);\r\n    }\r\n\r\n    p.draw = () =>\r\n    {\r\n      p.background(256,256,256);\r\n      //Pentagrama\r\n      p.stroke(0);\r\n      //Pentagrama\r\n      p.strokeWeight(2);\r\n      for (let j = 0; j < 5; j++){\r\n        p.line(sw*0.05, sh*0.3 + sh*0.05*j, sw*0.95, sh*0.3 + sh*0.05*j);\r\n      }\r\n      //Linea de \"meta\"\r\n      p.fill(0);\r\n      p.rect(sw*0.1 , sh*0.25 , sw*0.02, sh*0.3);\r\n      //Teclas\r\n      p.fill(255);\r\n      for (let i = 0; i <= 7; i++){\r\n        p.rect(ini + i * width, pianoY*3, width, pianoY);\r\n      }\r\n\r\n      renderizarnotas(this.ap.notas);\r\n      for (var i = 0; i < this.ap.notas.length; i++) {\r\n        if (this.ap.notas[i].x < sw*0.9 && this.ap.notas[i].x > sw*0.1 ) {\r\n          this.ap.notas[i].display();\r\n        }\r\n      }\r\n\r\n      // image(img,x,y,width,height)\r\n    }\r\n\r\n    // When we click\r\n    p.mousePressed = () => {\r\n      // Map mouse to the key index\r\n      if (p.mouseY > pianoY * 3){\r\n        for (let i = 0; i < notes.length; i++){\r\n          if (p.mouseX > (i * width)+ini && p.mouseX < (i+1) * width + ini){\r\n            start = Date.now();\r\n            playNote(notes[i]);\r\n            nactual = i;\r\n            enTeclado = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Fade it out when we release\r\n    p.mouseReleased = () => {\r\n    var delta = 0;\r\n      if (enTeclado) {\r\n        end = Date.now();\r\n        delta = Math.round(((end - start)*10)/1000);\r\n        if (delta<1) {\r\n          delta = 1;\r\n        }\r\n        this.ap.notas.push(new Nota(delta, nactual, 1));\r\n        console.log(this.ap.notas[this.ap.notas.length - 1].n);\r\n        enTeclado = false;\r\n      }\r\n\r\n      //osc.fade(0, 0.4);\r\n    }\r\n\r\n\r\n    function renderizarnotas(array){\r\n      try {\r\n        if (array[array.length - 1].x > sw*0.9) {\r\n          offset -= array[array.length - 1].d * sw * 0.02;\r\n        }\r\n      } catch (e) {\r\n        console.log(\"aun vacio\");\r\n      }\r\n      for (let i = 0; i < array.length; i++) {\r\n        if (i==0) {\r\n          array[i].x = offset;\r\n        }else {\r\n          array[i].x = array[i-1].x + array[i-1].d * sw * 0.02 + separador;\r\n        }\r\n      }\r\n    }\r\n\r\n    // A function to play a note\r\n    function playNote(note, duration) {\r\n      ////osc.amp(0.5)\r\n      //osc.freq(note);\r\n      // Fade it in\r\n      //osc.fade(1, 0.4);\r\n\r\n      // If we sest a duration, fade it out\r\n      if (duration) {\r\n        console.log(\"asda\");\r\n        setTimeout(function() {\r\n          //osc.fade(0, 0.2);\r\n        }, duration-50);\r\n      }\r\n    }\r\n\r\n    p.windowResized = () => {\r\n       p.resizeCanvas(window.innerWidth, window.innerHeight);\r\n       sw =window.innerWidth;\r\n       sh = window.innerHeight*0.9;\r\n       width = sw*0.06;\r\n       pianoY = (sh*0.23);\r\n       pentaY = (sh/4)/5;\r\n       ini = (sw - width * 8)/2;\r\n       separador = sw*0.01;\r\n    }}\r\n    let myp5 = new p5(sketch);\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/anadir-leccion/anadir-leccion.ts"],"sourceRoot":""}